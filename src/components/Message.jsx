import React, {useState, useRef} from 'react';

const Message = (props) => {
    const [message, setMessage] = useState();
    let messageField = useRef();
    function sendMessage(event){
        event.preventDefault();
        messageField.current.value='';
        props.newMessage([...props.previousMessage, message]);
    }
    function typeMessage(event){
        setMessage(event);
    }
    return (
        <div className="message__area">
            <div className="message__area-left">
                <svg className="clip-icon" width="12" height="20" viewBox="0 0 12 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path opacity="0.4" d="M9.34601e-05 3.75029C9.34601e-05 1.67923 2.01482 0.00023216 4.50002 0.00023216C6.98532 0.00023216 8.99996 1.67923 8.99996 3.75029V15.0003C8.99996 16.3811 7.65681 17.5002 5.99998 17.5002C4.34315 17.5002 3 16.3811 3 15.0003V5.0003H4.50002V15.0003C4.50002 15.6906 5.17153 16.2503 5.99998 16.2503C6.82843 16.2503 7.50002 15.6906 7.50002 15.0003V3.75029C7.50002 2.36954 6.15686 1.25027 4.50002 1.25027C2.84311 1.25027 1.49996 2.36954 1.49996 3.75029V15.0003C1.49996 17.0714 3.5147 18.7504 5.99998 18.7504C8.48526 18.7504 10.5 17.0714 10.5 15.0003V2.50029H11.9999V15.6252C11.6302 18.091 9.05921 20.0004 5.99998 20.0004C2.94091 20.0004 0.369845 18.091 -8.2016e-05 15.6252L9.34601e-05 3.75029Z" fill="black"/>
                </svg>
                <svg className="microphone-icon" width="14" height="20" viewBox="0 0 14 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path opacity="0.4" d="M5.52282 20.0002C5.18385 20.0002 4.90906 19.7204 4.90906 19.3753C4.90906 19.0301 5.18385 18.7504 5.52282 18.7504H6.1364V17.4722C3.10671 17.1938 0.541646 14.8744 -1.75238e-05 11.8752H1.22732C1.78591 14.3793 4.12233 16.2501 6.75006 16.2501C9.37772 16.2501 11.7141 14.3793 12.2727 11.8752H13.5C12.9583 14.8744 10.3932 17.1938 7.36364 17.4722V18.7504H7.97731C8.31618 18.7504 8.59098 19.0301 8.59098 19.3753C8.59098 19.7204 8.31618 20.0002 7.97731 20.0002H5.52282ZM6.75006 15.0003C4.37768 15.0003 2.45456 13.0415 2.45456 10.6253V4.37542C2.45456 1.95914 4.37768 0.000187635 6.75006 0.000187635C9.12227 0.000187635 11.0455 1.95914 11.0455 4.37542V10.6253C11.0455 13.0415 9.12227 15.0003 6.75006 15.0003ZM9.81822 4.37542C9.81822 2.6495 8.44452 1.25022 6.75006 1.25022C5.05551 1.25022 3.68182 2.6495 3.68182 4.37542V10.6253C3.68182 12.3512 5.05551 13.7503 6.75006 13.7503C8.44452 13.7503 9.81822 12.3512 9.81822 10.6253V4.37542Z" fill="black"/>
                </svg>
                <div className="message__field">
                    <form onSubmit={sendMessage}>
                        <input ref={messageField} type="text" defaultValue='' onChange={(event)=>typeMessage(event.target.value)}
                               placeholder="Message in #general" className="message__field-input"/>
                    </form>
                </div>
            </div>
            <svg className="smile-icon" width="20" height="20" viewBox="0 0 1024 1024" fill="#757474" version="1.1"
                 xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M324.8 440c34.4 0 62.4-28 62.4-62.4s-28-62.4-62.4-62.4-62.4 28-62.4 62.4 28 62.4 62.4 62.4z m374.4 0c34.4 0 62.4-28 62.4-62.4s-28-62.4-62.4-62.4-62.4 28-62.4 62.4 28 62.4 62.4 62.4zM340 709.6C384 744 440.8 764.8 512 764.8s128-20.8 172-55.2c26.4-21.6 42.4-42.4 50.4-58.4 6.4-12 0.8-27.2-11.2-33.6s-27.2-0.8-33.6 11.2c-0.8 1.6-3.2 6.4-8 12-7.2 10.4-17.6 20-28.8 29.6-34.4 28-80.8 44.8-140.8 44.8s-105.6-16.8-140.8-44.8c-12-9.6-21.6-20-28.8-29.6-4-5.6-7.2-9.6-8-12-6.4-12-20.8-17.6-33.6-11.2s-17.6 20.8-11.2 33.6c8 16 24 36.8 50.4 58.4z"
                    fill=""/>
                <path
                    d="M512 1010.4c-276.8 0-502.4-225.6-502.4-502.4S235.2 5.6 512 5.6s502.4 225.6 502.4 502.4-225.6 502.4-502.4 502.4zM512 53.6C261.6 53.6 57.6 257.6 57.6 508s204 454.4 454.4 454.4 454.4-204 454.4-454.4S762.4 53.6 512 53.6z"
                    fill=""/>
            </svg>
        </div>
    );
};

export default Message;